# ═══════════════════════════════════════════════════════════════════
# Rate Limiting Zones - LinkedIn Birthday Auto Bot
# À inclure dans /etc/nginx/nginx.conf au niveau du bloc http {}
# ═══════════════════════════════════════════════════════════════════
#
# Installation:
#   1. Copier ce fichier: sudo cp rate-limit-zones.conf /etc/nginx/conf.d/
#      OU
#      Ajouter ces lignes directement dans /etc/nginx/nginx.conf dans le bloc http {}
#
#   2. Tester: sudo nginx -t
#   3. Recharger: sudo systemctl reload nginx
#
# ═══════════════════════════════════════════════════════════════════

# Zone de rate limiting général: 10MB mémoire, max 10 requêtes/seconde par IP
limit_req_zone $binary_remote_addr zone=general:10m rate=10r/s;

# Zone spéciale pour login: 5 tentatives toutes les 15 minutes
# Note: Nginx supporte uniquement r/s et r/m. Pour limiter à ~5 tentatives/15min,
# on utilise rate=1r/m avec burst=5 dans la config du site
limit_req_zone $binary_remote_addr zone=login:10m rate=1r/m;

# Zone pour API: 60 requêtes/minute
limit_req_zone $binary_remote_addr zone=api:10m rate=60r/m;
