{
  "proxy_rotation": {
    "enabled": false,
    "description": "Rotation de proxies pour éviter la détection par LinkedIn",
    "random_selection": false,
    "max_retries": 3,
    "proxy_timeout": 10,
    "proxies": [
      {
        "description": "Exemple de proxy HTTP avec authentification",
        "url": "http://username:password@proxy1.example.com:8080",
        "type": "residential",
        "notes": "Proxy résidentiel recommandé pour LinkedIn"
      },
      {
        "description": "Exemple de proxy HTTPS",
        "url": "https://username:password@proxy2.example.com:8080",
        "type": "residential",
        "notes": "Proxy de secours"
      },
      {
        "description": "Exemple de proxy sans authentification",
        "url": "http://proxy3.example.com:3128",
        "type": "datacenter",
        "notes": "Proxy datacenter (moins recommandé pour LinkedIn)"
      }
    ]
  },
  "github_secrets_format": {
    "description": "Pour GitHub Actions, configurer ces variables d'environnement:",
    "ENABLE_PROXY_ROTATION": "true",
    "PROXY_LIST": "[\"http://user:pass@proxy1.com:8080\", \"http://user:pass@proxy2.com:8080\"]",
    "RANDOM_PROXY_SELECTION": "false",
    "PROXY_TIMEOUT": "10",
    "PROXY_MAX_RETRIES": "3"
  },
  "recommendations": {
    "proxy_types": {
      "residential": "✅ RECOMMANDÉ - IPs résidentielles, moins susceptibles d'être bloquées",
      "mobile": "✅ RECOMMANDÉ - IPs mobiles, très naturelles pour LinkedIn",
      "datacenter": "⚠️ PEU RECOMMANDÉ - IPs datacenter, facilement détectables"
    },
    "rotation_strategy": {
      "round_robin": "Utiliser les proxies dans l'ordre (RANDOM_PROXY_SELECTION=false)",
      "random": "Sélectionner un proxy aléatoire à chaque fois (RANDOM_PROXY_SELECTION=true)"
    },
    "best_practices": [
      "Utiliser au minimum 3-5 proxies différents pour une rotation efficace",
      "Privilégier les proxies résidentiels ou mobiles pour LinkedIn",
      "Vérifier que vos proxies supportent HTTPS",
      "Surveiller les métriques dans la table proxy_metrics de la base de données",
      "Remplacer les proxies qui échouent fréquemment",
      "Ne pas utiliser de proxies gratuits (très souvent bloqués)",
      "S'assurer que les proxies sont localisés dans des pays cohérents avec votre profil"
    ],
    "providers": [
      "Bright Data (ex-Luminati) - Résidentiel premium",
      "Smartproxy - Résidentiel et datacenter",
      "Oxylabs - Résidentiel et datacenter",
      "Geosurf - Résidentiel",
      "NetNut - Résidentiel rotatif",
      "REMARQUE: Ceci n'est pas une recommandation d'achat, faites vos propres recherches"
    ]
  },
  "monitoring": {
    "description": "Les métriques des proxies sont automatiquement enregistrées dans la base de données",
    "table": "proxy_metrics",
    "fields": [
      "proxy_url - URL du proxy utilisé (masqué dans les logs)",
      "success - Booléen indiquant si le proxy a fonctionné",
      "response_time - Temps de réponse en secondes",
      "error_message - Message d'erreur en cas d'échec",
      "timestamp - Date et heure de l'utilisation"
    ],
    "queries": {
      "view_stats": "SELECT * FROM proxy_metrics ORDER BY timestamp DESC LIMIT 100;",
      "success_rate": "SELECT proxy_url, COUNT(*) as total, SUM(CASE WHEN success = 1 THEN 1 ELSE 0 END) * 100.0 / COUNT(*) as success_rate FROM proxy_metrics GROUP BY proxy_url;",
      "avg_response_time": "SELECT proxy_url, AVG(response_time) as avg_time FROM proxy_metrics WHERE success = 1 GROUP BY proxy_url;"
    }
  },
  "troubleshooting": {
    "proxy_timeouts": "Augmenter PROXY_TIMEOUT ou vérifier la qualité du proxy",
    "authentication_errors": "Vérifier les credentials dans l'URL du proxy",
    "all_proxies_fail": "Vérifier que les proxies sont actifs et supportent HTTPS",
    "linkedin_blocks": "Changer de proxies, utiliser des proxies résidentiels",
    "connection_refused": "Vérifier que le serveur proxy est accessible depuis GitHub Actions"
  }
}
