# ========================================
# Configuration Pi4 Standalone
# ========================================
# Copier ce fichier vers .env pour l'utiliser :
#   cp .env.pi4 .env
#
# Architecture:
# - Raspberry Pi 4 (4GB RAM)
# - Freebox Pop (IP résidentielle)
# - Pas de Synology (SQLite local)
#
# Services:
# - Bot Worker (LinkedIn automation)
# - Dashboard (Next.js sur port 3000)
# - Redis x2 (queue bot + cache dashboard)

# ========================================
# API SECURITY
# ========================================
# Clé API pour sécuriser la communication entre Dashboard et API
# ⚠️  CRITIQUE: NE PAS utiliser "internal_secret_key" en production
# ⚠️  Générer une clé forte (64 caractères minimum) avec:
#     python -c "import secrets; print(secrets.token_hex(32))"
#
# IMPORTANT: Le bot refuse de démarrer si cette valeur n'est pas changée
API_KEY=CHANGEZ_MOI_PAR_CLE_FORTE_GENERER_AVEC_COMMANDE_CI_DESSUS

# ========================================
# DASHBOARD
# ========================================
# Port d'accès au dashboard (défaut: 3000)
DASHBOARD_PORT=3000

# ⚠️  AUTHENTIFICATION DASHBOARD (OBLIGATOIRE)
# Sans ces variables, vous verrez "Erreur de connexion au serveur" lors du login
# JWT Secret pour les sessions (minimum 32 caractères)
# Générer avec: openssl rand -hex 32
JWT_SECRET=CHANGEZ_MOI_PAR_SECRET_JWT_GENERER_AVEC_OPENSSL

# Identifiants de connexion au dashboard
# Ces valeurs seront utilisées pour se connecter à http://PI4_IP:3000
DASHBOARD_USER=admin
DASHBOARD_PASSWORD=CHANGEZ_MOI_PAR_MOT_DE_PASSE_FORT

# Base de données SQLite (partagée bot + dashboard)
DATABASE_URL=sqlite:///app/data/linkedin.db

# Redis Dashboard (cache)
REDIS_URL=redis://redis-dashboard:6379

# Désactiver la télémétrie Next.js
NEXT_TELEMETRY_DISABLED=1

# ========================================
# BOT WORKER
# ========================================
# Redis Queue (pour RQ Worker)
REDIS_HOST=redis-bot
REDIS_PORT=6379

# Niveau de logs (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL=INFO

# Chemin Python
PYTHONPATH=/app

# ========================================
# CONFIGURATION NAVIGATEUR
# ========================================
# Mode headless (obligatoire sur Pi4 sans écran)
HEADLESS=true

# Arguments Puppeteer (si utilisé dans le dashboard)
PUPPETEER_ARGS=--no-sandbox,--disable-setuid-sandbox,--disable-dev-shm-usage,--disable-gpu

# ========================================
# RÉSEAU (Freebox Pop)
# ========================================
# IP fixe recommandée sur la Freebox (via DHCP statique)
# Exemple: 192.168.1.50 (à configurer dans l'interface Freebox)
# PI4_IP=192.168.1.50

# ========================================
# LIMITES RESSOURCES PI4 (4GB RAM)
# ========================================
# Ces valeurs sont définies dans docker-compose.pi4-standalone.yml
# Bot Worker: 900MB max
# Dashboard: 400MB max
# API: 500MB max
# Redis Bot: 300MB max
# Redis Dashboard: 100MB max
# ─────────────────
# Total: ~2.2GB / 4GB (55%)
# Laisse ~1.8GB pour le système

# ========================================
# NOTES
# ========================================
# 1. Accès dashboard depuis le réseau local:
#    http://192.168.1.50:3000 (remplacer par l'IP de votre Pi4)
#
# 2. Vérifier que le Pi4 a une IP fixe sur la Freebox:
#    Interface Freebox > Paramètres réseau > DHCP statique
#
# 3. Pour accès externe sécurisé, utiliser Wireguard VPN
#    (cf. SETUP_PI4_SYNOLOGY_FREEBOX.md section VPN)
#
# 4. Données persistantes stockées dans:
#    - ./data/linkedin.db (SQLite)
#    - ./logs/ (logs bot + dashboard)
#    - Docker volumes: redis-bot-data, redis-dashboard-data
